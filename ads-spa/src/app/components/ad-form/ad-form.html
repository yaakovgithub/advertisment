<form
  (ngSubmit)="save()"
  #f="ngForm"
  class="post-card"
  style="max-width: 480px; margin: 2rem auto"
  [ngClass]="{
    'buy-sell': model.category === 'Buy & Sell',
    rent: model.category === 'Rent',
    event: model.category === 'Events',
    travel: model.category === 'Travel'
  }"
>
  <div class="category">
    <label>Category</label>
    <select [(ngModel)]="model.category" name="category" required>
      <option value="">Select category</option>
      <option>Buy & Sell</option>
      <option>Rent</option>
      <option>Events</option>
      <option>Travel</option>
    </select>
  </div>
  <div class="form-row">
    <label for="title" style="font-weight: 500; margin-bottom: 4px; display: block">Title</label>
    <input
      [(ngModel)]="model.title"
      name="title"
      id="title"
      required
      style="
        width: 100%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-bottom: 12px;
      "
      placeholder="Enter ad title"
    />
  </div>

  <div class="form-row">
    <label for="price" style="font-weight: 500; margin-bottom: 4px; display: block">Price</label>
    <input
      type="number"
      [(ngModel)]="model.price"
      name="price"
      id="price"
      required
      style="
        width: 100%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-bottom: 12px;
      "
      placeholder="Enter price"
    />
  </div>
  <div class="form-row">
    <label for="imageUrl" style="font-weight: 500; margin-bottom: 4px; display: block"
      >Image URL</label
    >
    <input
      [(ngModel)]="model.imageUrl"
      name="imageUrl"
      id="imageUrl"
      style="
        width: 100%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-bottom: 12px;
      "
      placeholder="Paste image URL"
    />
  </div>
  <div class="form-row">
    <label for="description" style="font-weight: 500; margin-bottom: 4px; display: block"
      >Description</label
    >
    <textarea
      [(ngModel)]="model.description"
      name="description"
      id="description"
      rows="5"
      style="
        width: 100%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-bottom: 12px;
        resize: vertical;
      "
      placeholder="Enter description"
    ></textarea>
  </div>
  <div class="form-row">
    <label for="address" style="font-weight: 500; margin-bottom: 4px; display: block"
      >Address or City</label
    >
    <input
      [(ngModel)]="model.address"
      name="address"
      id="address"
      placeholder="Enter address or city"
      style="
        width: 70%;
        padding: 0.5rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        margin-bottom: 12px;
        display: inline-block;
      "
      (keydown.enter)="$event.preventDefault(); useAddress()"
    />
    <button
      type="button"
      (click)="useAddress()"
      style="
        margin-left: 8px;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        border: none;
        background: #1976d2;
        color: white;
        cursor: pointer;
      "
    >
      Use Address
    </button>
  </div>
  <div class="map-block">
    <div id="ad-form-map" style="height: 180px; border-radius: 8px; margin: 8px 0"></div>
    <small>Click map to set location (overrides address).</small>
  </div>
  <div style="display: flex; gap: 1rem; margin-top: 1.5rem">
    <button [disabled]="f.invalid" style="flex: 1">Save</button>
    <button
      type="button"
      class="muted"
      style="
        flex: 1;
        text-align: center;
        padding: 0.75rem 0;
        background: #eee;
        border-radius: 6px;
        text-decoration: none;
      "
      (click)="cancel()"
    >
      Cancel
    </button>
  </div>
</form>
